(()=>{"use strict";(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback");document.addEventListener("click",(s=>{s.stopPropagation(),(s.target.closest(".callback-btn")||s.target.closest(".button-services")||s.target.closest(".fancyboxModal"))&&(t.style.display="block",e.style.display="block",e.classList.remove("hide"),e.classList.add("show"),t.classList.remove("hide"),t.classList.add("show")),(s.target.closest(".modal-close")||s.target.closest(".modal-overlay"))&&(t.classList.remove("show"),t.classList.add("hide"),e.classList.remove("show"),e.classList.add("hide"),t.querySelector(".message-block")&&t.querySelector(".message-block").remove(),setTimeout((()=>{t.style.display="none"}),200),setTimeout((()=>{e.style.display="none"}),400))}))})(),(()=>{const e=document.querySelector(".mobile-menu");document.addEventListener("click",(t=>{t.preventDefault(),t.target.closest(".mob-menu-btn")&&(e.style.right=0),t.target.closest(".mobile-menu-close")&&(e.style.right=""),t.target.closest(".callback-btn")&&(e.style.right=""),(t.target.matches("ul > li > a")||t.target.matches("menu > a"))&&((e=>{document.querySelector(e.hash).scrollIntoView({behavior:"smooth",block:"start"})})(t.target.closest("a")),e.style.right="")}))})(),(()=>{const e=document.querySelector(".up");e.addEventListener("click",(e=>{document.querySelector(".main-wrapper").scrollIntoView({behavior:"smooth",block:"start"})})),document.addEventListener("scroll",(t=>{t.target.scrollingElement.scrollTop>=document.querySelector(".services-section").offsetTop?e.classList.remove("d-none"):e.classList.add("d-none")}))})(),(({sliderContent:e,sliderItemClass:t,dotsContentClass:s,dotClass:l,dotActiveClass:o="dot-active",slideActiveClass:n="active",timer:a})=>{if(!e||!t)return;const c=document.querySelector(`.${e}`),r=document.querySelectorAll(`.${t}`),d=document.querySelector(`.${s}`);let i,m,u=0;const y=(e,t,s)=>{e[t].classList.remove(s)},g=(e,t,s)=>{e[t].classList.add(s)},h=()=>{y(r,u,n),y(i,u,o),u++,u>=r.length&&(u=0),g(r,u,n),g(i,u,o)},v=(e=2e3)=>{m=setInterval(h,e)};c.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${l}`)&&(y(r,u,n),y(i,u,o),e.target.classList.contains(l)&&i.forEach(((t,s)=>{e.target===t&&(u=s)})),u>=r.length&&(u=0),u<0&&(u=r.length-1),g(r,u,n),g(i,u,o))})),c.addEventListener("mouseenter",(e=>{e.target.matches(`.${l}`)&&clearInterval(m)}),!0),c.addEventListener("mouseleave",(e=>{e.target.matches(`.${l}`)&&v(a)}),!0),r.forEach((()=>{const e=document.createElement("li");e.classList.add(l),d.append(e)})),i=document.querySelectorAll(`.${l}`),i[u].classList.add(o),v(a)})({sliderContent:"top-slider",sliderItemClass:"top-slider .item",slideActiveClass:"active",dotsContentClass:"dots",dotClass:"dot",dotActiveClass:"dot-active",timer:3e3}),(({countSlides:e})=>{const t=document.querySelectorAll(".carousel-item"),s=document.querySelector(".services-arrow"),l=s.querySelectorAll("img");let o=0,n=e;const a=(e,t,s)=>{s.forEach((e=>{e.style.opacity=1})),e.style.opacity=o<1||n>=t?"0.5":"1"},c=()=>{document.documentElement.scrollWidth>768?(o=0,n=3):document.documentElement.scrollWidth>576?(o=0,n=2):(o=0,n=1),t.forEach(((e,s)=>{s<n?t[s].classList.remove("d-none"):e.classList.add("d-none")}))};s.addEventListener("click",(e=>{e.target.closest(".arrow-left")?(e.target,o>=1&&(o--,n--,t[o].classList.remove("d-none"),t[n].classList.add("d-none")),a(e.target,t.length,l)):e.target.closest(".arrow-right")&&(e.target,n<t.length&&(t[o].classList.add("d-none"),o++,t[n].classList.remove("d-none"),n++),a(e.target,t.length,l))})),window.addEventListener("resize",(()=>{c(),a(document.querySelector(".arrow-left"),t.length,l)})),c(),a(document.querySelector(".arrow-left"),t.length,l)})({countSlides:3}),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element");e.addEventListener("click",(e=>{e.target.closest(".element")&&(t.forEach((e=>{e.classList.remove("active"),e.querySelector(".element-content").style.display="none"})),e.target.closest(".element").classList.add("active"),e.target.closest(".element").querySelector(".element-content").style.display="block")}))})(),(e=>{const t=document.querySelector("#form1"),s=t.querySelectorAll('input[type="text"]'),l=t.querySelector('input[type="submit"]'),o=document.createElement("div");o.classList.add("message-block"),s.forEach((e=>{e.id=e.name;const t=document.createElement("label");t.setAttribute("for",`#${e.name}`),t.classList.add("invalid"),e.after(t)}));const n=({type:e,value:t,elem:s})=>{const l=s.nextElementSibling;"name"===e?!/[^а-яА-ЯёЁ0-9 -]/gi.test(t)&&t.trim().length>2||0===t.length?(s.style.marginBottom="",l.style.display="none",l.textContent=""):t.trim().length<=2?(console.log(t.trim().length),s.style.marginBottom="5px",l.style.display="block",l.textContent="допустимо не меньше 2 символов"):(s.style.marginBottom="5px",l.style.display="block",l.textContent="допустима только кириллица"):"phone"===e&&(!/[^0-9\+ \-\(\)]/gi.test(t)&&t.length>=6&&t.length<=12?(s.style.marginBottom="",s.classList.add("success"),l.style.display="none",l.textContent=""):t.length<6||t.length>12?(s.style.marginBottom="0",s.classList.remove("success"),l.style.display="block",l.textContent="номер должен быть от 6 до 12 символов"):(s.style.marginBottom="0",s.classList.remove("success"),l.style.display="block",l.textContent="разрешены цифры, знак “+”, круглые скобки и дефис"))};t.addEventListener("change",(e=>{"fio"===e.target.name?n({type:"name",elem:e.target,value:e.target.value}):"tel"===e.target.name&&n({type:"phone",elem:e.target,value:e.target.value})}));try{l.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=new FormData(t),n={};var a;e.forEach(((e,t)=>{n[t]=e})),s[1].classList.contains("success")?(o.textContent="Загрузка...",t.append(o),s.forEach((e=>{e.disabled=!0,e.style.background="#ddd",l.disabled=!0})),(a=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((()=>{o.textContent="Спасибо. Наш менеджер свяжется с вами!",t.append(o),s.forEach((e=>{e.disabled=!1,e.style.background="",e.value="",e.classList.remove("success")})),l.disabled=!1})).catch((e=>{o.textContent="Oшибка",t.append(o)}))):(s[1].nextElementSibling.style.display="block",s[1].nextElementSibling.textContent="Обязательное для заполнения поле")})()}))}catch(e){console.log(e.message)}})()})();